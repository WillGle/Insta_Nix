/* =========================================================================
   Waybar Enhanced Dark Theme – GTK‑compatible (rev5, audited)
   Waybar v0.14.0 • FiraCode Nerd Font Icons
   ========================================================================= */

/* ---------- Color palette ------------------------------------------------ */
/* Note: These placeholders are replaced by Nix during build.
   IDE/Linters may show errors because they don't recognize GTK CSS syntax
   like @define-color or the @variable usage. */
@define-color bg _BASE_;
@define-color bg_alt _MANTLE_;
@define-color fg _TEXT_;
@define-color accent _ACCENT_;
@define-color crit _ERROR_;
@define-color warn _WARNING_;
@define-color purple _PURPLE_;

/* ---------- Global reset ------------------------------------------------- */
* {
  border: none;
  border-radius: 0;
  padding: 0 5px;
  margin: 0;
  font-family: "FiraCode Nerd Font", monospace;
  font-weight: bold;
  font-size: 13px;
  background: transparent;
  color: @fg;
  transition: color 0.3s ease, border-color 0.3s ease, background 0.3s ease;
}

/* ---------- Waybar container -------------------------------------------- */
window#waybar {
  background: rgba(13, 13, 15, 0.9);
  border-bottom: 1px solid rgba(255, 255, 255, 0.1);
  min-height: 28px;
}

/* ---------- Workspaces --------------------------------------------------- */
#workspaces button {
  padding: 0 10px;
  color: #888888;
  margin: 0;
  border-radius: 0;
}

#workspaces button.focused {
  color: @accent;
  background: rgba(255, 255, 255, 0.05);
  border-bottom: 2px solid @accent;
}

#workspaces button:hover {
  background: rgba(255, 255, 255, 0.1);
  color: @fg;
}

/* ---------- Generic module container ------------------------------------ */
#clock,
#tray,
#pulseaudio,
#custom-memory_info,
#custom-apu_info,
#custom-power_flow,
#custom-power_profile,
#custom-refresh_rate,
#custom-atomic_note {
  padding: 0 10px;
  margin: 0;
  background: rgba(255, 255, 255, 0.05);
  border-left: 1px solid rgba(255, 255, 255, 0.05);
}

#clock:hover,
#tray:hover,
#pulseaudio:hover,
#custom-memory_info:hover,
#custom-apu_info:hover,
#custom-power_flow:hover,
#custom-power_profile:hover,
#custom-refresh_rate:hover,
#custom-atomic_note:hover {
  background: rgba(255, 255, 255, 0.1);
}

/* =========================================================================
   State Classes
   Priority: critical > hot > high > warm > medium > charging > normal
   ========================================================================= */

/* --- Temperature states (text color) ------------------------------------ */
#custom-apu_info.warm {
  color: @warn;
}

#custom-apu_info.hot {
  color: @crit;
  font-weight: bold;
}

#custom-apu_info.critical {
  color: @purple;
  font-weight: bold;
}

/* --- Power states (top border accent) ----------------------------------- */
#custom-apu_info.medium,
#custom-power_flow.medium {
  border-top: 2px solid @warn;
}

#custom-apu_info.high,
#custom-power_flow.high {
  color: @crit;
  font-weight: bold;
  border-top: 2px solid @crit;
}

/* --- Battery states (bottom border accent) ------------------------------ */
#custom-power_flow.charging {
  color: @accent;
  border-bottom: 2px solid @accent;
}

#custom-power_flow.critical {
  color: @crit;
  border-bottom: 2px solid @crit;
}

/* --- Memory states ------------------------------------------------------ */
#custom-memory_info.warning {
  color: @warn;
}

#custom-memory_info.critical {
  color: @crit;
  font-weight: bold;
}

/* ---------- Audio info --------------------------------------------------- */
#pulseaudio.muted {
  color: #888888;
}

/* ---------- Power Profile states ----------------------------------------- */
#custom-power_profile.perf {
  color: @crit;
  border-bottom: 2px solid @crit;
}

#custom-power_profile.saver {
  color: @accent;
  border-bottom: 2px solid @accent;
}

/* ---------- Tooltip ------------------------------------------------------ */
tooltip {
  background-color: @bg_alt;
  border: 1px solid @accent;
  border-radius: 6px;
  padding: 8px 12px;
  color: @fg;
  font-size: 12px;
}

/* ---------- Network Manager Popup Fix ----------------------------------- */
.menu,
.popup,
.popup * {
  background-color: @bg_alt;
  color: @fg;
}

.popup menuitem:hover,
.popup *:hover {
  background-color: rgba(255, 255, 255, 0.1);
  color: @accent;
}

/* --- Atomic Note (Custom Sticky Palette) --- */
#custom-atomic_note {
  color: #f1fa8c;
  /* Sticky Yellow */
  /* min-width: 350px; */
}

#custom-atomic_note.urgent {
  color: #ff5555;
  /* Red */
  border-bottom: 2px solid #ff5555;
}

#custom-atomic_note.warning {
  color: #ffb86c;
  /* Orange */
  border-bottom: 2px solid #ffb86c;
}

#custom-atomic_note.empty {
  color: #6272a4;
  /* Dimmed */
}